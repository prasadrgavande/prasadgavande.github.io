<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Csv file handling with shell script | Prasad Rajesh Gavande </title> <meta name="author" content="Prasad Rajesh Gavande "> <meta name="description" content="Tutorial for basics csv operations using Shell scripting"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://prasadgavande.in/blog/2025/Csv-file-handling-with-shell-script/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="//"> <span class="font-weight-bold">Prasad Rajesh Gavande</span> </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Csv file handling with shell script</h1> <p class="post-meta"> June 14, 2025 </p> <p class="post-tags"> <a href="//blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="//blog/tag/code"> <i class="fa-solid fa-hashtag fa-sm"></i> code,</a>   <a href="//blog/tag/shell"> <i class="fa-solid fa-hashtag fa-sm"></i> shell</a>     ·   <a href="//blog/category/scripting"> <i class="fa-solid fa-tag fa-sm"></i> scripting</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>In this post, we are going to take a look on basic csv operations which includes read, write, find etc.</p> <p>so let’s get started with this.</p> <p>Make sure, you have csv file with you in folder, you can refer to <a href="https://prasadgavande.in/blog/2025/file-operations-with-shell-script/">file handing post</a> to learn more about it.</p> <p>Create a file using editor of your choice, I am using <code class="language-plaintext highlighter-rouge">vi</code> editor for this</p> <p><code class="language-plaintext highlighter-rouge">vi csvOperations.sh</code></p> <p>This will create a file and open editor</p> <p>###Common declaration first declare shebang as below</p> <p><code class="language-plaintext highlighter-rouge">#!/bin/bash</code></p> <p>then create variable which will hold csv file name</p> <p><code class="language-plaintext highlighter-rouge">csvFile="data.csv"</code></p> <p>Let’s create a functions for basic operations</p> <h3 id="function-to-read-csv-file">Function to read CSV file</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>readCsv()
{
        echo "Content in csv file as below"
        cat $csvFile
}
</code></pre></div></div> <h3 id="function-count-rows-in-file">function count rows in file</h3> <p>We are going to use tail function with <code class="language-plaintext highlighter-rouge">wc | -l</code> options which can give us count of rows in file</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>countRows()
{
        echo "Number of rows in file: "
        tail data.csv | wc -l
}
</code></pre></div></div> <h3 id="extract-specific-column-values">Extract specific column values</h3> <p>We can use <code class="language-plaintext highlighter-rouge">awk</code> function to get column values</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>extractColumns(){
        echo "extracting second column"
        awk -F , '{print $2}' "$csvFile"
}
</code></pre></div></div> <p>where:</p> <p><code class="language-plaintext highlighter-rouge">-F ,</code> –&gt; this will use as field seperator to comma , meaning awk will treat each comma-seperated value as different column</p> <p><code class="language-plaintext highlighter-rouge">{print $2}</code> –&gt; this will tell awk command to print second column</p> <p><code class="language-plaintext highlighter-rouge">$csvFile</code> –&gt; we are passing csv file to awk command for processing</p> <h3 id="append-data-to-csv-file">Append data to csv file</h3> <p>We are going to ask user to enter value to append data to csv</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>appendData()
{
        echo "Enter below information to add new row to csv"
        read -p "Enter Id:" id
        read -p "Enter Name:" name
        read -p "Enter Dept:" dept

        echo "$id, $name, $dept" &gt;&gt; "$csvFile"
        echo " data added to csv file"
}
</code></pre></div></div> <h3 id="get-row-by-id">Get row by Id</h3> <p>We are going to ask user to enter row id which he wants to search for , We can get row by passing Id using <code class="language-plaintext highlighter-rouge">awk</code> command</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getRowById()
{
        read -p "Enter Id of row you want to read" rowId
        awk -F , -v id="$rowId" '$1==id' "$csvFile"
}
</code></pre></div></div> <p>Where:</p> <p><code class="language-plaintext highlighter-rouge">-F ,</code> –&gt; this will use as field seperator to comma , meaning awk will treat each comma-seperated value as different column</p> <p><code class="language-plaintext highlighter-rouge">-v id="$rowId"</code> –&gt; this will define variable id inside awk command and assign value of rowId which passed by user</p> <p><code class="language-plaintext highlighter-rouge">'$1==id'</code> –&gt; as we have stored Ids in first column in csv file, this will check if first column matched id from csv file</p> <h3 id="function-calling">Function calling</h3> <p>Now, its time to call functions one by one.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>readCsv
countRows
extractColumns
appendData
echo "Read Csv again after adding new row"
readCsv
getRowById
</code></pre></div></div> <p>That’s it, lets save this file , grant required permission. Before run this, lets take a look on our <code class="language-plaintext highlighter-rouge">data.csv</code> file</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>id,name,dept
1,abc,IT
2,pqr,HR
3,xyz,Acc
</code></pre></div></div> <p>Now, run our executable csv opeations file <img src="https://github.com/prasadrgavande/prasadgavande.github.io/blob/master/assets/img/4-Csv-file-handling-with-shell-script/output.png?raw=true" alt="Output"></p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="//blog/2025/file-operations-with-shell-script/">File Operations with shell script</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="//blog/2025/traying-to-understand-shell-scripting/">Trying to understand Shell Scripting</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="//blog/2025/Useful-linux-commands/">Useful linux commands</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="//blog/2025/trying_to_understand_pointers_cpp/">Trying to understand Pointers in c++</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="//blog/2025/boilerplate-for-cpp-program-vscode/">Boilerplate project to debug and run C++ code in VS Code</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Prasad Rajesh Gavande . Yet another developer's blog </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?fcfacfb8c6281f5e68d5a7d348186eb1"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>